---
import Button from "@/components/Button.tsx";
import Logo from "@/components/Logo.astro";
---

<div
  class="relative w-full max-w-[100vw] h-[60dvh]  md:aspect-video md:h-[85vh] xl:h-full "
    >
  <div
    class="absolute inset-0 h-full justify-center z-10 my-auto flex flex-col items-center w-ful"
  >
    <section
      class="absolute w-full z-50 animate-fade-up flex justify-center items-center gap-8 flex-col tex-white"
    >
      <h1
        class="flex w-full flex-col sm:flex-row items-center justify-center gap-x-7 md:gap-x-10 lg:gap-x-20 text-2xl sm:text-2xl md:text-4xl lg:text-[42px] text-white/85 pt-5 mb-5 md:mb-10 xl:mb-12 text-shadow"
      >
        <span>
          <span>Q</span>
          <span>U</span>
          <span>E</span>
          <span>S</span>
          <span>O</span>
          <span> </span>
        </span>
        <span>
          <span>H</span>
          <span>U</span>
          <span>A</span>
          <span>R</span>
          <span>O</span>
          <span>C</span>
          <span>H</span>
          <span>I</span>
          <span>R</span>
          <span>A</span>
          <span>N</span>
          <span>O</span>
        </span>
      </h1>

      <div class="flex justify-center mt-6 md:mt-10" data-aos="zoom-in" data-aos-delay="800">
        <div class="relative">
          <div
            class="p-2 mt-2 md:p-4 shadow-2xl w-full flex items-center justify-center"
          >
            <div class="text-center ">
              <h2
                class="flex items-center h-16 md:h-24 justify-center px-4 gap-5 sm:gap-8 md:gap-12 text-3xl sm:text 4xl md:text-5xl lg:text-7xl text-black/75 bg-amber-600/90 rounded-2xl"
                data-aos="fade-up"
                data-aos-delay="100"
                data-aos-duration="300"
              >
                <span
                  data-aos="fade-right"
                  data-aos-delay="100"
                  data-aos-duration="500"
                >
                  <span>D</span>
                  <span>O</span>
                  <span>N</span>
                </span>
                <span
                  data-aos="fade-down"
                  data-aos-delay="100"
                  data-aos-duration="750"
                >
                  <span>S</span>
                  <span>A</span>
                </span>
                <span
                  data-aos="fade-left"
                  data-aos-delay="100"
                  data-aos-duration="1000"
                >
                  <span>S</span>
                  <span>A</span>
                  <span>A</span>
                </span>
              </h2>

              <div
                class="w-20 h-1 bg-gradient-to-r from-amber-400 to-orange-400 mx-auto mt-5 mb-4"
              >
              </div>
            </div>
          </div>

          <!-- Floating elements -->
          <div
            class="absolute -top-10 left-2 w-10 h-10 md:w-16 md:h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl md:rounded-2xl opacity-80 animate-bounce"
            style="animation-delay: 0s;"
          >
          </div>
          <div
            class="absolute -bottom-2 right-2 md:-bottom-6 md:-right-4 w-8 h-8 md:w-12 md:h-12 bg-gradient-to-br from-yellow-400 to-amber-500 rounded-lg md:rounded-xl opacity-70 animate-bounce"
            style="animation-delay: 1s;"
          >
          </div>
          <div
            class="absolute -top-7 right-2 md:top-4 md:-right-12 w-8 h-8 bg-gradient-to-br from-orange-400 to-red-500 rounded-lg opacity-60 animate-bounce"
            style="animation-delay: 2s;"
          >
          </div>
        </div>
      </div>

      <Button
        className=" text-black bg-amber-600 text-lg md:text-2xl tracking-wide font-rocket  sm:mt-2 md:mt-14  lg:mt-[70px] xl:mt-24 2xl:mt-32 "
        url="/contacto"
        data-aos="fade-up"
        data-aos-delay="100"
        data-aos-duration="500"
      >
        CONT√ÅCTANOS
      </Button>
    </section>

    <video
      autoplay
      loop
      muted
      playsinline
      id="main-video"
      preload="metadata"
      class="video hidden h-full w-full object-cover object-top animate-duration-[2s] animate-ease-in-out"
    >
      <source src=`${import.meta.env.BASE_URL}video.webm` type="video/webm" />
      <source src=`${import.meta.env.BASE_URL}video.mp4` type="video/mp4" />
    </video>
    <div
      class="absolute h-full w-full inset-0 bg-gradient-to-t from-black/85 to-amber-900/65 z-10"
    >
    </div>
  </div>

  <video
    class="video hidden absolute -bottom-44 -z-40 blur-3xl animate-duration-[2s] animate-ease-in-out"
    autoplay
    loop
    muted
    preload="metadata"
  >
    <source src=`${import.meta.env.BASE_URL}video.webm` type="video/webm" />
    <source src=`${import.meta.env.BASE_URL}video.mp4` type="video/mp4" />
  </video>
</div>

<script>
  document.addEventListener("astro:page-load", () => {
    const firstVideo = document.querySelector(
      "#main-video"
    ) as HTMLMediaElement;

    if (firstVideo) {
      const videos = document.querySelectorAll(
        ".video"
      ) as NodeListOf<HTMLMediaElement>;

      if (firstVideo.readyState >= 3) {
        videos.forEach((videoEl) => {
          videoEl.classList.remove("hidden");
          videoEl.classList.add("animate-fade");
        });

        return;
      }

      firstVideo.addEventListener("loadeddata", () => {
        videos.forEach((videoEl) => {
          videoEl.classList.remove("hidden");
          videoEl.classList.add("animate-fade");
        });
      });
    }
  });
</script>
