---
const processes = [
  {
    title: "Recepción de Leche",
    description: "Seleccionamos la mejor leche fresca de nuestros proveedores locales.",
    image: {
      
      webp: "/images/proceso-1.webp",
      png: "/images/proceso-1.png",
      alt: "Recepción de leche"
    }
  },
  {
    title: "Pasteurización",
    description: "Calentamos la leche para iniciar con el proceso de pasteurización.",
    image: {
      png: "/images/proceso-2.png",
      webp: "/images/proceso-2.webp",
      alt: "img-pasteurización"
    }
  },
  {
    title: "Adición de Cuajo Natural",
    description: "Aplicamos un cuajo natural a la leche.",
    image: {
      png: "/images/proceso-3.png",
      webp: "/images/proceso-3.webp",
      alt: "Elaboración de quesos"
    }
  },
  {
    title: "Corte y extracción del suero",
    description: "Se realiza el corte uniforme y se retira el suero.",
    image: {
      png: "/images/proceso-4.png",
      webp: "/images/proceso-4.webp",
      alt: "Elaboración de quesos"
    }
  },
  {
    title: "Moldeado y compactación",
    description: "Se realiza el moldeado del queso y se deja reposar para su compactación.",
    image: {
      png: "/images/proceso-5.png",
      webp: "/images/proceso-5.webp",
      alt: "Elaboración de quesos"
    }
  }
]

const mainImage = {
  png: "/images/proceso-main.png",
  webp: "/images/proceso-main.webp",
  alt: "Proceso"
}
---

<section class="w-full flex items-center justify-center relative py-8 overflow-hidden pl-4 md:pl-10">
  <div class="container max-auto relative">
    <div class="flex flex-col lg:flex-row gap-8 items-center justify-center lg:block ">
      <div class="w-full max-w-2xl lg:w-[50%] backdrop-blur-sm rounded-xl shadow-lg py-6 space-y-8 relative z-10 lg:px-10">
        <h2 class="text-center font-extrabold text-3xl md:text-2xl  md:text-start pb-8 md:pb-0 text-amber-900  my-8">
          PROCESO DE ELABORACIÓN DE QUESO
        </h2>
        {processes.map((step, index) => (
          <div class={`relative flex justify-center p-2 ${
            index % 2 === 0 
              ? 'border-b-2 border-r-2 border-amber-900/80' 
              : 'border-b-2 border-l-2 border-amber-900/80'
          }`}
          class="bg-white rounded-xl shadow-lg overflow-hidden"
          data-aos="zoom-in"
          data-aos-delay={index * 100}
          data-aos-duration="800"
          >    
            {/* Step number with adjusted positioning */}
            <span
              class={`absolute sm:text-lg  md:text-xl font-semibold md:font-extrabold text-white 
                bg-amber-900 w-20 h-10 md:w-24 md:h-14 rounded-lg flex justify-center items-center
                top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 
                ${index % 2 === 0 
                  ? 'md:left-auto md:right-[-3rem] md:top-1/2 md:-translate-y-1/2 md:translate-x-0'
                  : 'md:right-auto md:left-[-3rem] md:top-1/2 md:-translate-y-1/2 md:translate-x-0'
                }`}
            >
              Paso {index + 1}
            </span>

            {/* Content wrapper with proper spacing */}
            <div class="relative z-10"> 
              <div class={`flex flex-row items-center gap-6 ${index % 2 === 0 ? '' : 'flex-row-reverse'}`}>
                <div class="w-1/3 lg:min-w-[150px]"> 
                  <picture class="w-full rounded-lg overflow-hidden block">
                    <source srcset={step.image.webp} type="image/webp" />
                    
                    <img
                      src={step.image.png}
                      alt={step.image.alt}
                      class="w-full h-full object-cover"
                      loading="lazy"
                    />
                  </picture>
                </div>
                
                <div class={`w-2/3 text-center mt-6 sm:mt-0  ${index % 2 === 0 ? 'sm:mr-16' : 'sm:ml-16  '}`}>
                  <h3 class="text-lg md:text-xl font-bold text-amber-900 mb-2">{step.title}</h3>
                  <p class="text-sm md:text-base text-gray-700">{step.description}</p>
                </div>
              </div>
            </div>
          </div>  
        ))}
      </div>

      {/* Right Column - Fixed Background Image */}
      <div class="absolute top-0 right-0 w-[50%] h-full hidden lg:block">
        <picture class="w-full h-full ">
          <source srcset={mainImage.webp} type="image/webp" />
          <source srcset={mainImage.png} type="image/png" />
          <img
            src={mainImage.png}
            alt={mainImage.alt}
            class="w-full h-full object-cover"
            loading="lazy"
          />
        </picture>
        {/* Gradient overlay */}
        <div class="absolute inset-0 bg-gradient-to-l from-amber-600/75 to-transparent"></div>
      </div>
    </div>
  </div>
</section>


